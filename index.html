<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Word Search Solver</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 20px;
    }
    #grid {
      display: grid;
      margin: 20px auto;
      gap: 2px;
    }
    .cell {
      width: 40px;
      height: 40px;
      background: #f0f0f0;
      border: 1px solid #ccc;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      font-weight: bold;
    }
    .selected {
      background: lightblue;
    }
    .found {
      background: lightgreen;
    }
  </style>
</head>
<body>
  <h1>ðŸ’– Word Search ðŸ’–</h1>

  <p><strong>Words to find:</strong> PRETTY, FUNNY, SMART, KIND, WEIRD, SWEET</p>
  <button onclick="initGrid()">Reset Grid</button>

  <h3 id="wordListLabel">Words:</h3>
  <div id="grid"></div>

  <script>
    const rows = 10;
    const cols = 12;
    const wordsToPlace = [
      { word: "PRETTY", row: 0, col: 0, dx: 0, dy: 1 },
      { word: "FUNNY", row: 1, col: 0, dx: 0, dy: 1 },
      { word: "SMART", row: 2, col: 0, dx: 0, dy: 1 },
      { word: "KIND",  row: 2, col: 5, dx: 1, dy: 0 }, // vertical
      { word: "WEIRD", row: 3, col: 3, dx: 0, dy: 1 },
      { word: "SWEET", row: 4, col: 0, dx: 0, dy: 1 }
    ];
    let grid = [];
    const wordsToFind = ["PRETTY", "FUNNY", "SMART", "KIND", "WEIRD", "SWEET"];
    let selected = [];
    let found = new Set();

    function initGrid() {
      grid = Array.from({ length: rows }, () => Array(cols).fill(''));
      selected = [];
      found = new Set();

      // Place words
      for (const { word, row, col, dx, dy } of wordsToPlace) {
        for (let i = 0; i < word.length; i++) {
          const r = row + i * dx;
          const c = col + i * dy;
          grid[r][c] = word[i];
        }
      }

      // Fill remaining cells with random letters
      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          if (!grid[r][c]) {
            grid[r][c] = String.fromCharCode(65 + Math.floor(Math.random() * 26));
          }
        }
      }

      renderGrid();
      updateWordListDisplay();
    }

    function renderGrid() {
      const container = document.getElementById("grid");
      container.innerHTML = '';
      container.style.gridTemplateColumns = `repeat(${cols}, 40px)`;

      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const cell = document.createElement('div');
          cell.classList.add('cell');
          cell.textContent = grid[r][c];
          cell.dataset.row = r;
          cell.dataset.col = c;
          cell.addEventListener('click', () => handleSelect(cell));
          container.appendChild(cell);
        }
      }
    }

    function updateWordListDisplay() {
      const label = document.getElementById("wordListLabel");
      const remaining = wordsToFind.filter(w => !found.has(w));
      label.textContent = remaining.length === 0
        ? "ðŸŽ‰ All words found!"
        : "Words: " + remaining.join(', ');
    }

    function handleSelect(cell) {
      cell.classList.add('selected');
      selected.push(cell);

      if (selected.length === 2) {
        const [start, end] = selected;
        const word = extractWord(start, end);
        const reversed = word.split('').reverse().join('');

        if (wordsToFind.includes(word) && !found.has(word)) {
          found.add(word);
          markFound(start, end);
          alert(`âœ… Found: ${word}`);
        } else if (wordsToFind.includes(reversed) && !found.has(reversed)) {
          found.add(reversed);
          markFound(start, end);
          alert(`âœ… Found (reversed): ${reversed}`);
        } else {
          alert(`âŒ Not a valid word: ${word}`);
        }

        clearSelection();
        updateWordListDisplay();
      }
    }

    function extractWord(startCell, endCell) {
      const r1 = parseInt(startCell.dataset.row);
      const c1 = parseInt(startCell.dataset.col);
      const r2 = parseInt(endCell.dataset.row);
      const c2 = parseInt(endCell.dataset.col);

      const dx = Math.sign(r2 - r1);
      const dy = Math.sign(c2 - c1);

      let word = '';
      let x = r1, y = c1;

      while (true) {
        word += grid[x][y];
        if (x === r2 && y === c2) break;
        x += dx;
        y += dy;
      }
      return word;
    }

    function markFound(startCell, endCell) {
      const r1 = parseInt(startCell.dataset.row);
      const c1 = parseInt(startCell.dataset.col);
      const r2 = parseInt(endCell.dataset.row);
      const c2 = parseInt(endCell.dataset.col);

      const dx = Math.sign(r2 - r1);
      const dy = Math.sign(c2 - c1);

      let x = r1, y = c1;
      while (true) {
        const selector = `[data-row="${x}"][data-col="${y}"]`;
        document.querySelector(selector).classList.add('found');
        if (x === r2 && y === c2) break;
        x += dx;
        y += dy;
      }
    }

    function clearSelection() {
      document.querySelectorAll('.selected').forEach(c => c.classList.remove('selected'));
      selected = [];
    }

    // Auto-load grid on page load
    window.onload = initGrid;
  </script>
</body>
</html>
